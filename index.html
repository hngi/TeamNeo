<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login | Team NEO</title>
    <link href="./content/plugins/bootstrap-4/css/bootstrap.min.css" rel="stylesheet" />
    <link href="./content/plugins/MDBootstrap/css/mdb.min.css" rel="stylesheet" />
    <link href="./content/plugins/font-awesome/css/font-awesome.css" rel="stylesheet" />
    <!-- Custom css -->
    <link href="./content/css/custom.css" rel="stylesheet">
    <!-- Site core CSS file -->
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon" />
    <link rel="icon" href="./favicon.ico" type="image/ico" />

</head>
<body class="bg-amber">

<section  style="padding: 0px !important;">


    <div class="row no-gutters">
        <div class="col-xl-4 col-lg-4 col-sm-12 col-12">

            <!-- Card -->
            <div class="card  h-100 min-vh-100" >

                <div class="card-body">


                    <img src="./content/images/team-neo-logo.png" width="180" class=" mx-auto d-block center" alt="Logo">


                </div>

                <div class="card-body p-2 m-2 bg-amber d-block d-sm-block d-md-block d-lg-none d-xl-none">

                    <img src="./content/images/landing-photo-1.svg" width="25%" class="rounded center d-flex align-items-center" alt="Responsive image">


                </div>
                <div class="col-md-12">
                    <div data-alerts="alerts"  data-ids="myid" data-fade="5000"></div>
                </div>

                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active" id="login" role="tabpanel" aria-labelledby="login-tab">


                        <div class="card-body">
                            <!-- Title -->
                            <!--<h2 class="card-title text-center blue-text mt-3"><a>Account Login</a></h2>-->

                            <div class="form-group clearfix border border-light mt-1 p-1">
                                <span class="pull-left text-muted lead">Login Using</span>
                                <span class="pull-right">
                                    <a href="#" class="mr-2">
                                        <img src="./content/images/google.svg" height="35" alt="Google">
                                    </a>
                                    <a href="#">
                                        <img src="./content/images/facebook.svg" height="35"  alt="Facebook">
                                    </a>
                                </span>
                            </div>


                            <!-- Title -->
                            <h5 class="text-center text-muted mt-2">Account Login</h5>

                            <form method="post" id="loginForm">

                                <div class="md-form input-group  input-group-lg mt-1 mb-1">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text md-addon">
                                            <i class="fa fa-envelope fa-lg blue-text"></i>
                                        </div>
                                    </div>
                                    <input name="Username" id="Username" type="text" placeholder="Email" class="form-control" aria-label="Text input with checkbox">
                                </div>

                                <div class="md-form input-group  input-group-lg mb-5">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text md-addon">
                                            <i class="fa fa-key fa-lg blue-text"></i>
                                        </div>
                                    </div>
                                    <input name="Password" id="Password" type="password" placeholder="Password" class="form-control" aria-label="Text input with checkbox">
                                </div>
                                <!-- Default unchecked -->
                                <div class="form-group clearfix">
                                    <div class="custom-control custom-checkbox pull-left">
                                        <input type="checkbox" name="RememberMe" class="custom-control-input" id="defaultUnchecked">
                                        <label class="custom-control-label" for="defaultUnchecked">Keep Me Logged In</label>
                                    </div>
                                    <a href="" class="pull-right">Forgot Password?</a>
                                </div>

                                <div class="form-group clearfix">

                                    <button type="submit" class="btn btn-primary btn-lg btn-block mt-2">Login In</button>

                                </div>
                                <div class="form-group text-center">
                                    <a class="click-tab" id="register-tab" data-toggle="tab" href="#register" role="tab" aria-controls="register"
                                       >I don't have an Account</a>
                                </div>

                            </form>
                            <!-- Button -->

                        </div>

                    </div>
                    <div class="tab-pane fade" id="register" role="tabpanel" aria-labelledby="register-tab">

                        <div class="card-body">
                            <!-- Title -->
                            <!--<h2 class="card-title text-center blue-text mt-3"><a>Account Login</a></h2>-->


                            <!-- Title -->
                            <h5 class="text-center text-muted">Register</h5>

                            <form action="saveAuthentication.php" method="POST" id="registrationForm">

                                <div class="md-form input-group input-group-lg mb-2">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text md-addon">
                                            <i class="fa fa-hashtag fa-lg blue-text"></i>
                                        </div>
                                    </div>
                                    <input name="FullName" id="=FullName" type="text" placeholder="Full Name" class="form-control" aria-label="Text input with checkbox">
                                </div>

                                <div class="md-form input-group input-group-lg mt-1 mb-2">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text md-addon">
                                            <i class="fa fa-envelope fa-lg blue-text"></i>
                                        </div>
                                    </div>
                                    <input name="NewUsername" id="NewUsername" type="email" placeholder="Email" class="form-control" aria-label="Text input with checkbox">
                                </div>

                                <div class="md-form input-group input-group-lg mt-1 mb-2">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text md-addon">
                                            <i class="fa fa-key fa-lg blue-text"></i>
                                        </div>
                                    </div>
                                    <input name="NewPassword" id="NewPassword" type="password" placeholder="Password" class="form-control" aria-label="Text input with checkbox">
                                </div>

                                <div class="md-form input-group input-group-lg mt-1 mb-4">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text md-addon">
                                            <i class="fa fa-key fa-lg blue-text"></i>
                                        </div>
                                    </div>
                                    <input name="ConfirmPassword" id="ConfirmPassword" type="password" placeholder="Confirm Password" class="form-control" aria-label="Text input with checkbox">
                                </div>


                                <div class="form-group clearfix mt-2 text-center">

                                    <button type="submit" class="btn btn-primary btn-lg">Register</button>
                                    <button type="reset" class="btn btn-light btn-lg">Reset</button>

                                </div>
                                <div class="form-group text-center">
                                    I already have an Account! <a class="click-tab" id="login-tab" data-toggle="tab" href="#login" role="tab" aria-controls="login"
                                    >Login in</a>
                                </div>

                            </form>
                            <!-- Button -->

                        </div>



                    </div>
                </div>


            </div>
            <!-- Card -->

        </div>
        <div class="col-lg-8 col-lg-8  d-none d-sm-none d-md-none d-lg-block d-xl-block">

            <img src="./content/images/landing-photo-1.svg" width="65%" class="rounded center d-flex align-items-center" alt="Responsive image">

        </div>
    </div>

</section>


<script src="./content/plugins/modernizr.js"></script>
<script src="./content/plugins/jquery/dist/jquery.min.js"></script>
<script src="./content/plugins/bootstrap-4/js/bootstrap.bundle.min.js"></script>
<script src="./content/plugins/MDBootstrap/js/tether.min.js"></script>
<script src="./content/plugins/MDBootstrap/js/mdb.min.js"></script>
<script src="./content/plugins/jquery-bs-alerts/dist/jquery.bsAlerts.min.js"></script>
<!---->
<script src="./content/scripts/jquery.validate.min.js"></script>
<script src="./content/scripts/jquery.validate.additional-methods.min.js"></script>
<!---->
<script>
    $( ".click-tab" ).on( "click", function() {
        $( ".click-tab" ).removeClass( "active ");
    });
</script>
<script>
    //Form Validation
    $("#loginForm").validate({
        rules: {
            Username: {
                required: true,
                email: true
            },
            Password: {
                required: true,
                minlength: 6
            }

        },
        messages: {
            Username: {
                email: "Enter a valid email address!"
            },
            Password: {
                minlength: "Password must have more than 5 characters!"
            }
        }
    });
</script>
<script>
    //Form Validation
    $("#registrationForm").validate({
        rules: {
            FullName: {
                required: true
            },
            NewUsername: {
                required: true,
                email: true
            },
            NewPassword: {
                required: true,
                minlength: 6
            },
            //
            ConfirmPassword: {
                equalTo: "#NewPassword"
            }

        },
        messages: {
            NewUsername: {
                email: "Enter a valid email address!"
            },
            NewPassword: {
                minlength: "Password must have more than 5 characters!"
            },
            ConfirmPassword: {
                equalTo: "Passwords do not match!"
            }
        }
    });
</script>
<script>
    $(document).ready(function() {

        //Authenticate User
        $('#loginForm').submit(function(event) {

            var getUrl = window.location;
            var _baseUrl = getUrl .protocol + "//" + getUrl.host + "/" + getUrl.pathname.split('/')[1];
//            var url = window.location.href;
            var _localStorage = window.localStorage;
//            var _baseUrl = url.replace("/index.html", "");



            var _userName =  $('input[name=Username]').val();
            var _password =  $('input[name=Password]').val();

            console.info(_userName);
            console.info(_password);
            console.info(_baseUrl);

            var _storageKey = _userName + _password;
            // Retrieve
            var _storageValue = _localStorage.getItem(_storageKey);

            if(_storageValue === null || _storageValue === "")
            {
                $(document).trigger("add-alerts", [
                    {
                        "message": "Invalid Username or Password!",
                        "priority": 'danger'
                    }
                ]);

            }else{

                $(document).trigger("add-alerts", [
                    {
                        "message": "Login successful!",
                        "priority": 'success'
                    }
                ]);
                _baseUrl = _baseUrl + "/";
                _baseUrl = _baseUrl.replace("//", "/");
                window.location.replace(_baseUrl + "views/home.html");
            }


//
            event.preventDefault();
        });

    });
</script>
<script>
    $(document).ready(function() {

        // process the form
        $('#registrationForm').submit(function(event) {

            var getUrl = window.location;
            var _baseUrl = getUrl .protocol + "//" + getUrl.host + "/" + getUrl.pathname.split('/')[1];
//            var url = window.location.href;
            var _localStorage = window.localStorage;
//            var _baseUrl = url.replace("/index.html", "");


            // get the form data
            // there are many ways to get this data using jQuery (you can use the class or id also)
            var formData = {
                fullName  : $('input[name=FullName]').val(),
                userName : $('input[name=NewUsername]').val(),
                password : $('input[name=NewPassword]').val()
            };

            var _storageKey = formData.userName + formData.password;
            // Store
            localStorage.setItem(_storageKey, formData);
            // Check if data storage is successful
            var _storageValue = _localStorage.getItem(_storageKey);

            if(_storageValue === null || _storageValue === "")
            {
                $(document).trigger("add-alerts", [
                    {
                        "message": "Oops Something went wrong..! ",
                        "priority": 'danger'
                    }
                ]);

            }else{

                $(document).trigger("add-alerts", [
                    {
                        "message": "Profile creation successful!",
                        "priority": 'success'
                    }
                ]);
                setTimeout(function(){
                    window.location.reload();
                }, 3000);
            }


            event.preventDefault();
        });

    });
</script>
</body>
</html>